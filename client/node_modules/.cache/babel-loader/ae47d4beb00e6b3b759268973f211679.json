{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/gabriela/Documentos/sr1-mast/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/gabriela/Documentos/sr1-mast/client/src/components/FaceLogin.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  \\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nconst Contenedor = styled.div(_templateObject());\n\nclass FacebookLogin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loggedStatus: false\n    };\n  }\n\n  componentDidMount() {\n    window.fbAsyncInit = () => {\n      window.FB.init({\n        appId: '402202960407667',\n        xfbml: true,\n        version: 'v2.11'\n      });\n      window.FB.Event.subscribe(\"auth.statusChange\", response => {\n        this.statusChangeCallback(response);\n      });\n      this.checkLoginStatus();\n    };\n\n    (function (d, s, id) {\n      var js,\n          fjs = d.getElementsByTagName(s)[0];\n\n      if (d.getElementById(id)) {\n        return;\n      }\n\n      js = d.createElement(s);\n      js.id = id;\n      js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n      fjs.parentNode.insertBefore(js, fjs);\n    })(document, 'script', 'facebook-jssdk');\n  }\n\n  statusChangeCallback(response) {\n    console.log(response);\n\n    if (response.status == \"connected\") {\n      this.setState({\n        loggedStatus: true,\n        userID: response.authResponse.userID\n      });\n      this.getPersonalData();\n    } else {\n      this.setState({\n        loggedStatus: false\n      });\n    }\n  }\n\n  checkLoginStatus() {\n    window.FB.getLoginStatus(response => this.statusChangeCallback(response));\n  }\n\n  getPersonalData() {\n    var url = \"/\" + this.state.userID + \"?fields=name,picture\";\n    window.FB.api(url, response => {\n      console.log(response);\n      this.setState({\n        name: response.name,\n        picture: response.picture.data.url\n      });\n    });\n  }\n\n  showPersonalData() {\n    if (this.state.loggedStatus) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Bienvenido, \", this.state.name), React.createElement(\"img\", {\n        src: this.state.picture,\n        alt: \"foto no encontrada\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }));\n    }\n  }\n\n  render() {\n    return React.createElement(Contenedor, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, this.showPersonalData(), React.createElement(\"div\", {\n      className: \"fb-login-button\",\n      \"data-max-rows\": \"1\",\n      \"data-size\": \"large\",\n      \"data-button-type\": \"continue_with\",\n      \"data-show-faces\": \"false\",\n      \"data-auto-logout-link\": \"true\",\n      \"data-use-continue-as\": \"false\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default FacebookLogin;","map":{"version":3,"sources":["/home/gabriela/Documentos/sr1-mast/client/src/components/FaceLogin.js"],"names":["React","Component","styled","Contenedor","div","FacebookLogin","constructor","props","state","loggedStatus","componentDidMount","window","fbAsyncInit","FB","init","appId","xfbml","version","Event","subscribe","response","statusChangeCallback","checkLoginStatus","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","console","log","status","setState","userID","authResponse","getPersonalData","getLoginStatus","url","api","name","picture","data","showPersonalData","render"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,MAAMC,UAAU,GAAGD,MAAM,CAACE,GAAV,mBAAhB;;AAKA,MAAMC,aAAN,SAA4BJ,SAA5B,CAAsC;AAEpCK,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,YAAY,EAAE;AADH,KAAb;AAGD;;AAEDC,EAAAA,iBAAiB,GAAE;AACjBC,IAAAA,MAAM,CAACC,WAAP,GAAqB,MAAM;AACzBD,MAAAA,MAAM,CAACE,EAAP,CAAUC,IAAV,CAAe;AACbC,QAAAA,KAAK,EAAQ,iBADA;AAEbC,QAAAA,KAAK,EAAQ,IAFA;AAGbC,QAAAA,OAAO,EAAM;AAHA,OAAf;AAMAN,MAAAA,MAAM,CAACE,EAAP,CAAUK,KAAV,CAAgBC,SAAhB,CAA0B,mBAA1B,EAA+CC,QAAQ,IAAI;AACzD,aAAKC,oBAAL,CAA0BD,QAA1B;AACD,OAFD;AAIA,WAAKE,gBAAL;AACD,KAZD;;AAcC,eAASC,CAAT,EAAYC,CAAZ,EAAeC,EAAf,EAAkB;AAChB,UAAIC,EAAJ;AAAA,UAAQC,GAAG,GAAGJ,CAAC,CAACK,oBAAF,CAAuBJ,CAAvB,EAA0B,CAA1B,CAAd;;AACA,UAAID,CAAC,CAACM,cAAF,CAAiBJ,EAAjB,CAAJ,EAA0B;AAAC;AAAQ;;AACnCC,MAAAA,EAAE,GAAGH,CAAC,CAACO,aAAF,CAAgBN,CAAhB,CAAL;AAAyBE,MAAAA,EAAE,CAACD,EAAH,GAAQA,EAAR;AACzBC,MAAAA,EAAE,CAACK,GAAH,GAAS,2CAAT;AACAJ,MAAAA,GAAG,CAACK,UAAJ,CAAeC,YAAf,CAA4BP,EAA5B,EAAgCC,GAAhC;AACD,KAND,EAMEO,QANF,EAMY,QANZ,EAMsB,gBANtB,CAAD;AAOD;;AAEDb,EAAAA,oBAAoB,CAACD,QAAD,EAAU;AAC5Be,IAAAA,OAAO,CAACC,GAAR,CAAYhB,QAAZ;;AACA,QAAGA,QAAQ,CAACiB,MAAT,IAAmB,WAAtB,EAAkC;AAChC,WAAKC,QAAL,CAAc;AACZ7B,QAAAA,YAAY,EAAE,IADF;AAEZ8B,QAAAA,MAAM,EAAEnB,QAAQ,CAACoB,YAAT,CAAsBD;AAFlB,OAAd;AAIA,WAAKE,eAAL;AACD,KAND,MAMO;AACL,WAAKH,QAAL,CAAc;AACZ7B,QAAAA,YAAY,EAAE;AADF,OAAd;AAGD;AACF;;AAEDa,EAAAA,gBAAgB,GAAE;AAChBX,IAAAA,MAAM,CAACE,EAAP,CAAU6B,cAAV,CAAyBtB,QAAQ,IAAI,KAAKC,oBAAL,CAA0BD,QAA1B,CAArC;AACD;;AAEDqB,EAAAA,eAAe,GAAE;AACf,QAAIE,GAAG,GAAG,MAAM,KAAKnC,KAAL,CAAW+B,MAAjB,GAA0B,sBAApC;AACA5B,IAAAA,MAAM,CAACE,EAAP,CAAU+B,GAAV,CAAcD,GAAd,EAAmBvB,QAAQ,IAAI;AAC7Be,MAAAA,OAAO,CAACC,GAAR,CAAYhB,QAAZ;AACA,WAAKkB,QAAL,CAAc;AACZO,QAAAA,IAAI,EAAEzB,QAAQ,CAACyB,IADH;AAEZC,QAAAA,OAAO,EAAE1B,QAAQ,CAAC0B,OAAT,CAAiBC,IAAjB,CAAsBJ;AAFnB,OAAd;AAID,KAND;AAOD;;AAEDK,EAAAA,gBAAgB,GAAE;AAChB,QAAG,KAAKxC,KAAL,CAAWC,YAAd,EAA2B;AACzB,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAgB,KAAKD,KAAL,CAAWqC,IAA3B,CADF,EAEE;AAAK,QAAA,GAAG,EAAE,KAAKrC,KAAL,CAAWsC,OAArB;AAA8B,QAAA,GAAG,EAAC,oBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF;AAMD;AACF;;AAEDG,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEG,KAAKD,gBAAL,EAFH,EAGE;AAAK,MAAA,SAAS,EAAC,iBAAf;AACK,uBAAc,GADnB;AAEK,mBAAU,OAFf;AAGK,0BAAiB,eAHtB;AAIK,yBAAgB,OAJrB;AAKK,+BAAsB,MAL3B;AAMK,8BAAqB,OAN1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF;AAcD;;AAzFmC;;AA4FtC,eAAe3C,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport styled from 'styled-components';\n\nconst Contenedor = styled.div`\n  \n`;\n\n\nclass FacebookLogin extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      loggedStatus: false\n    }\n  }\n\n  componentDidMount(){\n    window.fbAsyncInit = () => {\n      window.FB.init({\n        appId      : '402202960407667',\n        xfbml      : true,\n        version    : 'v2.11'\n      });\n\n      window.FB.Event.subscribe(\"auth.statusChange\", response => {\n        this.statusChangeCallback(response);\n      });\n\n      this.checkLoginStatus();\n    };\n  \n    (function(d, s, id){\n       var js, fjs = d.getElementsByTagName(s)[0];\n       if (d.getElementById(id)) {return;}\n       js = d.createElement(s); js.id = id;\n       js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n       fjs.parentNode.insertBefore(js, fjs);\n     }(document, 'script', 'facebook-jssdk'));\n  }\n\n  statusChangeCallback(response){\n    console.log(response);\n    if(response.status == \"connected\"){\n      this.setState({\n        loggedStatus: true,\n        userID: response.authResponse.userID\n      });\n      this.getPersonalData();\n    } else {\n      this.setState({\n        loggedStatus: false\n      });\n    }\n  }\n\n  checkLoginStatus(){\n    window.FB.getLoginStatus(response => this.statusChangeCallback(response));\n  }\n\n  getPersonalData(){\n    var url = \"/\" + this.state.userID + \"?fields=name,picture\";\n    window.FB.api(url, response => {\n      console.log(response);\n      this.setState({\n        name: response.name,\n        picture: response.picture.data.url\n      });\n    });\n  }\n\n  showPersonalData(){\n    if(this.state.loggedStatus){\n      return (\n        <div>\n          <p>Bienvenido, {this.state.name}</p>\n          <img src={this.state.picture} alt=\"foto no encontrada\"/>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <Contenedor>\n       \n        {this.showPersonalData()}\n        <div className=\"fb-login-button\" \n             data-max-rows=\"1\" \n             data-size=\"large\" \n             data-button-type=\"continue_with\" \n             data-show-faces=\"false\" \n             data-auto-logout-link=\"true\" \n             data-use-continue-as=\"false\">\n          </div>\n      </Contenedor>\n    );\n  }\n}\n\nexport default FacebookLogin;"]},"metadata":{},"sourceType":"module"}